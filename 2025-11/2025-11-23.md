## Spring

### OncePerRequestFilter
- jakarta.servlet.http.HttpFilterの実装クラス
- 1度だけ実行される
  - フィルター実行前に “実行済みフラグ” をリクエストに付けることで、1度だけ実行される
    ```java
    request.setAttribute(alreadyFilteredAttributeName, Boolean.TRUE);
    ```
  - View(JSP/Thymeleafなど)を返した際や、エラーハンドリング時に内部的に`forward`を呼び出しfilterが複数回実行される恐れがある。そのため、フラグを付けて同じリクエスト内では１度だけ実行するようにしている。
### CSRF（クロスサイトリクエストフォージェリ）
